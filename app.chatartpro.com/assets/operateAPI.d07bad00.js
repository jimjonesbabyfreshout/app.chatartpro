import{d as n,aI as r,a7 as l,N as i,aL as d,aJ as p,a8 as _}from"./@vue.54607f99.js";import{b as u,p as m,s as f}from"./index.7bc02917.js";import{e as g}from"./event-source-polyfill.454af690.js";const h="/assets/loading.2c491928.gif",b=e=>(d("data-v-1e435a73"),e=e(),p(),e),v=b(()=>_("img",{src:h,alt:"loading"},null,-1)),C=[v],S=n({__name:"Loading",props:{className:{type:String,default:""}},setup(e){const a=e;return(o,t)=>(r(),l("div",{class:i(["loading-wrap",a.className])},C,2))}});const x=u(S,[["__scopeId","data-v-1e435a73"]]),L=e=>{var t;const a={...m()},o=new g.exports.EventSourcePolyfill(`https://api.chatartpro.com/web${e.url}`,{headers:a,heartbeatTimeout:((t=e.config)==null?void 0:t.heartbeatTimeout)||5*60*1e3});o.onopen=()=>{e.openCallback&&e.openCallback()},o.onmessage=s=>{const c=JSON.parse(s.data);e.successCallback&&e.successCallback(c,o)},o.onerror=s=>{e.errorCallback&&e.errorCallback(s),o.close()}},N=e=>f({url:"/chat-gpt/add-collection",method:"POST",data:e});export{x as L,N as a,L as c};
